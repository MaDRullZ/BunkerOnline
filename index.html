<!DOCTYPE html>
<html lang="ru">
<head>
  <meta charset="UTF-8">
  <title>Bunker Online</title>
  <link rel="stylesheet" href="style.css">
  <script src="https://cdn.socket.io/4.7.2/socket.io.min.js" crossorigin="anonymous"></script>
</head>
<body>
  <div class="container">
    <h1>Bunker Online</h1>
    <button id="createRoomBtn">Создать комнату</button>
    <div>
      <input type="text" id="roomInput" placeholder="Введите код комнаты">
      <button id="joinRoomBtn">Присоединиться</button>
    </div>
    <div id="status"></div>
  </div>
  <script>
    const socket = io();

    const statusDiv = document.getElementById("status");

    document.getElementById("createRoomBtn").addEventListener("click", () => {
      socket.emit("createRoom", (roomCode) => {
        statusDiv.innerHTML = `Комната создана! Код: <b>${roomCode}</b>`;
      });
    });

    document.getElementById("joinRoomBtn").addEventListener("click", () => {
      const roomCode = document.getElementById("roomInput").value.toUpperCase();
      socket.emit("joinRoom", roomCode, (success) => {
        statusDiv.innerHTML = success ? 
          `Вы присоединились к комнате <b>${roomCode}</b>` : 
          `<span style="color:red">Комната не найдена!</span>`;
      });
    });
  </script>
</body>
</html>
