<!DOCTYPE html>
<html lang="ru">
<head>
  <meta charset="UTF-8">
  <title>Bunker Online</title>
  <link rel="stylesheet" href="style.css">
  <script src="https://cdn.socket.io/4.7.2/socket.io.min.js"
    integrity="sha384-cdrBlrK+UQh5NfO+P9FSxgPlsgxO1Xz2TnZzRQ+k7LyyKP+HBrNf6PH6E6gI5nJo"
    crossorigin="anonymous"></script>
</head>
<body>
  <div class="container">
    <h1>Bunker Online</h1>
    <button id="createRoomBtn">Создать комнату</button>
    <div>
      <input type="text" id="roomInput" placeholder="Введите код комнаты">
      <button id="joinRoomBtn">Присоединиться</button>
    </div>
    <div id="status"></div>
  </div>

  <script>
    // Замените на свой публичный URL Render
    const socket = io("https://bunker-online.onrender.com");

    const statusDiv = document.getElementById("status");

    // Создание комнаты
    document.getElementById("createRoomBtn").addEventListener("click", () => {
      socket.emit("createRoom", (roomCode) => {
        statusDiv.innerHTML = `Комната создана! Код: <b>${roomCode}</b>`;
      });
    });

    // Присоединение к комнате
    document.getElementById("joinRoomBtn").addEventListener("click", () => {
      const roomCode = document.getElementById("roomInput").value.toUpperCase();
      socket.emit("joinRoom", roomCode, (success) => {
        if (success) {
          statusDiv.innerHTML = `Вы присоединились к комнате <b>${roomCode}</b>`;
        } else {
          statusDiv.innerHTML = `<span style="color:red">Комната не найдена!</span>`;
        }
      });
    });
  </script>
</body>
</html>
